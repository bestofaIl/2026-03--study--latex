---
## Author
author:
  name: Абрамян Артём Арменович
  degrees: BA
  email: 1132249518@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6
## Title
title: Диаграммы и чертежи в виде кода в LaTeX
subtitle: Лабораторная работа №8
license: CC BY
date: today
date-format: "YYYY-MM-DD"
---

# Информация

## Докладчик

Абрамян Артём Арменович

Российский университет дружбы народов им. П. Лумумбы

[1132249518@pfur.ru](mailto:1132249518@pfur.ru)

# Вводная часть

## Актуальность

Создание сложных графиков функций, графов и диаграмм — обязательный элемент научных работ. Требуется понимание механизмов LaTeX для работы с TikZ.

## Цели и задачи

Цель данной работы — Изучить возможности создания диаграм и рисования в LaTeX, разобраться с набором инструментов TikZ.

## Материалы и методы

Пакеты: TikZ.
usetikzlibrary{math}

# Основная часть

## Основные компоненты TikZ

Для создания рисунка в TikZ вам сначала нужно загрузить соответствующий пакет в ваш файл TeX,
 то есть использовать \\usepackage{tikz} в преамбуле.
 Существует широкий спектр опций и специальных библиотек TikZ,
 которые также можно использовать и которые необходимо загрузить отдельно, но они нам не понадобятся в этом курсе для начинающих.
  Вы можете ознакомиться с доступными опциями и попробовать их самостоятельно, используя три ссылки, указанные выше.
Рисунок TikZ обычно помещается в среду LaTeX \\begin{figure}, как и другие рисунки.
  Это полезно, поскольку позволяет присвоить рисунку номер и подпись, чтобы вы могли легко ссылаться на него.
  Внутри среды рисунка вы можете начать создание рисунка TikZ, написав код \\begin{tikzpicture},
  после чего вы можете начать верстку рисунка. Как обычно,
вы закрываете среду кодом \\end{tikzpicture}.

В отличие от того, к чему вы привыкли при наборе текста и математических выражений в LaTeX, вам понадобится
один символ, который не соответствует напрямую тому, что вы можете увидеть
в вашем документе. Каждая строка кода TikZ должна быть закрыта точкой с запятой.
Давайте начнем с пошагового набора графика в TikZ. В конце этого
урока мы сможем набрать следующий рисунок.


## Рисование линий

График состоит из нескольких точек и прямых. Построение графика начинается с определения координат точек.
  В TikZ это можно сделать двумя разными способами.
Декартова координата задается двумя числами (координатами x и y), разделенными запятой и заключенными в круглые скобки,
 например (-2,0) или (1,5,1,5). В TikZ координаты также можно задавать в полярной форме.
 Это также работает, если задать два числа внутри круглых скобок (угол в градусах и длина),
 разделенные двоеточием, например (180:2) или (45:2,1) для (приблизительно) тех же двух координат.
Примечание: если единица измерения не указана, по умолчанию используются сантиметры, координаты также можно задавать,
 например, (1 см, 2 пт).
Теперь мы можем нарисовать прямые линии между этими координатами, используя команду \\draw.


![Пример рисования линий](image/fig01.png){#fig-001 width=70%}


Помимо рисования прямых линий, мы также можем определять другие типы линий,
и этим линиям можно присвоить цвет, толщину или узор. Например,
используйте -| или |- вместо -- для рисования линий, которые сначала идут горизонтально, а затем вертикально,
или наоборот. Стиль линий можно изменить, задав параметры
команде \\draw. Это делается путем помещения этих параметров в квадратные скобки
после команды. В следующем примере мы рисуем стрелку вместо линии,
и задаем цвет другой линии.


![Более сложный пример линий](image/fig02.png){#fig-002 width=70%}


Используйте исходный код TikZ, чтобы увидеть, какие типы опций возможны.
Мы можем рисовать не только прямые линии, но и кривые.
Это можно сделать несколькими разными способами. В следующем примере мы представляем три варианта.

![Кривые линии](image/fig03.png){#fig-003 width=70%}


Первое, что вы можете заметить, это использование `to` вместо `--` для соединения координат.
Эта команда работает точно так же, но при использовании `to` мы можем добавить параметры к команде соединения.
 Для зеленой линии мы задаем два параметра: во-первых, угол (в градусах), под которым линия отклоняется от первой координаты,
  и во-вторых, угол, под которым линия достигает второй координаты.
  Синяя линия — это так называемая кривая Безье, линия, определяемая ее начальной и конечной точками,
   а также рядом опорных точек (в данном случае одной), которые фактически притягивают линию к себе.
   В TikZ такие линии могут быть определены с одной или двумя опорными точками.
   В приведенном ниже примере мы приводим код для построения кривой Безье с двумя опорными точками.

![кривая Безье](image/fig04.png){#fig-004 width=70%}


## Nodes

  Следующий шаг на пути к верстке графика — это подписи, фрагменты текста и
  числа, содержащиеся в рисунке. Для написания текста в рисунке TikZ нам нужен
  объект, называемый узлом. Простейший пример узла — это текст, размещенный
  на заданной координате, но узел также может представлять собой фрагмент текста, окруженный кругом,
  прямоугольником или другой простой фигурой. Узел не обязательно должен содержать текст,
  но в большинстве случаев текст является целью узла. Узел можно определить во время
  рисования пути, что работает следующим образом:

![Пример узла](image/fig05.png){#fig-005 width=70%}



Параметр [scale=3] в начале рисунка увеличивает масштаб рисунка в 3 раза.
Командному узлу также можно задать параметры, например, разместить узел посередине линии, в конце линии и т. д.

![Более сложный пример узла](image/fig06.png){#fig-006 width=70%}


Обратите внимание: при использовании команды `to` вместо `--` расположение узла `--` немного меняется.
Приведенный ниже пример кода генерирует то же изображение, что и выше.

![Оба варианта](image/fig07.png){#fig-007 width=70%}

Узлам также можно приписывать математические формулы, и, как уже говорилось, их можно
ограничить простой геометрической фигурой.

![Узлы в геометрических фигурах](image/fig08.png){#fig-008 width=70%}


Как вы могли заметить, линия, соединяющая узлы, по-прежнему начинается и заканчивается
точно в заданных координатах, что выглядит не очень красиво. Эту проблему можно решить,
предварительно определив узлы и присвоив им метки, чтобы мы могли нарисовать линию от
узла к узлу.


![Более корректный вариант](image/fig09.png){#fig-009 width=70%}

Теперь мы рассмотрели достаточно примеров, чтобы понять, как можно оформить график в TikZ.
 Следующий фрагмент кода используется для генерации графика, показанного в начале этого урока.

![Сложный граф](image/fig10.png){#fig-010 width=70%}



## Построение кривых


В TikZ можно не только рисовать линии между координатами.
Также имеется встроенный способ построения графиков для широкого спектра различных функций.
Например, для функции $y = x^2$ на интервале $[-2, 2]$.

![Пример графика](image/fig11.png){#fig-011 width=70%}

Используя знания, полученные в предыдущих разделах, вы можете добавить оси и подписи к этой кривой. Например:

![Пример графика с осями и подписями](image/fig12.png){#fig-012 width=70%}



## Работа с циклами

В TikZ также можно использовать циклы for, применяя команду \\foreach ... in ....
Таким образом, довольно сложное изображение можно очень быстро набрать.

![Пример использования циклов](image/fig13.png){#fig-013 width=70%}


Эта идея очень полезна для построения итеративных фигур, таких как треугольник Серпинского,
хотя для этого требуется специальная библиотека TikZ, с помощью которой можно определить рекурсивную функцию.
Следующий код показывает первые шесть итераций треугольника Серпинского,
нарисованных в TikZ. Код также содержит некоторые элементы в преамбуле
 (перед \\begin{document}), поэтому мы приводим полный код LaTeX для PDF-файла, содержащего только эту фигуру.


![треугольник Серпинского](image/fig14.png){#fig-014 width=70%}


# Упражнения

## Граф 1

В display mode применяется встроенное выравнивание

![Упражнение 1](image/fig15.png){#fig-015 width=70%}

# Результаты

## Выводы

В данной работе мы изучили возможности создания диаграмм и рисования в LaTeX, разобрались с набором инструментов TikZ.

## Итог

Освоены основные инструменты работы с графиками и диаграммами в LaTeX. Изучены пакеты TikZ. Получены практические навыки работы с TikZ в LaTeX.
